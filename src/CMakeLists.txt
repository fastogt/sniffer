SET(GLOBAL_HEADERS
  macros.h
  log.h
)
SET(GLOBAL_SOURCES
  macros.c
  log.c
)

IF(APPLE)
  SET(PLATFORM_HEADER)
  SET(PLATFORM_SOURCES)
  SET(PLATFORM_LIBRARIES)
ELSEIF(UNIX)
  SET(PLATFORM_HEADER)
  SET(PLATFORM_SOURCES)
  SET(PLATFORM_LIBRARIES rt m z pthread x264)
ENDIF(APPLE)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

ADD_EXECUTABLE(${PROJECT_NAME}
  ${GLOBAL_HEADERS} ${GLOBAL_SOURCES}
  main.c
)

SET(DEPENDENCIES_SOURCES)

TARGET_LINK_LIBRARIES(${PROJECT_NAME}
  pcap
)

IF(DEVELOPER_ENABLE_TESTS)
  ENABLE_TESTING()
  ADD_DEFINITIONS(-DTEST_FOLDER_PATH="${CMAKE_SOURCE_DIR}/tests/")
ENDIF(DEVELOPER_ENABLE_TESTS)
